---
version: "3"

services:
  librespot:
    image: ${DOCKER_REGISTRY:-docker.io}/giof71/librespot:latest
    container_name: librespot-alsa
    network_mode: host
    devices:
      - /dev/snd:/dev/snd
    environment:
      - DEVICE=${ALSA_DEVICE:-default}
      - FORMAT=${ALSA_FORMAT:-S16}
      - BACKEND=alsa
      - BITRATE=${BITRATE:-320}
      - INITIAL_VOLUME=${INITIAL_VOLUME:-100}
      - DEVICE_TYPE=${DEVICE_TYPE:-speaker}
      - DEVICE_NAME=${DEVICE_NAME:-LibreSpot}
    restart: always
